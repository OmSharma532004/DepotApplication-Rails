<!DOCTYPE html>
<html>
<head>
  <title>Pragprog Books Online Store</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
  <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>

  <%= javascript_importmap_tags %>
</head>

<body class="min-h-screen">
<header class="bg-green-700 text-white px-6 py-4 flex items-center justify-between shadow-lg">

  <!-- Left: Logo + Page Title -->
  <div class="flex items-center space-x-4">
    <%= image_tag "logo.png",
          alt: "The Pragmatic Bookshelf",
          width: "100px",
          class: "rounded-md shadow-md" %>

    <h1 class="text-2xl font-bold"><%= @page_title %></h1>
  </div>

  <!-- Right: Language Selector -->
  <aside data-controller="locale" class="text-right">
<%= form_tag store_index_path, method: :get, class: "locale flex items-center space-x-2" do %>
  <%= select_tag "set_locale",
      options_for_select(LANGUAGES, I18n.locale.to_s),
      onchange: "this.form.submit()",
      class: "px-3 py-2 bg-white text-gray-700 rounded-lg shadow" %>

  <%= submit_tag "OK", data: { "locale-target" => "submit" }, class: "hidden" %>
<% end %>


  </aside>

</header>



  <section class="flex min-h-screen">
   <nav class="bg-green-700 min-h-screen p-6"> 

   <ul class="text-white font-bold leading-8">
<li><a href="/"><%= t('.home') %></a></li>
<li><a href="/questions"><%= t('.questions') %></a></li>
<li><a href="/news"><%= t('.news') %></a></li>
<li><a href="/contact"><%= t('.contact') %></a></li>
</ul>
    <% if logged_in? %>
  <hr class="my-4 border-white">

  <ul class="text-white  font-bold leading-8 space-y-2 mt-4">
    <li>
      <%= link_to 'Orders', orders_path,
          class: "block hover:text-white transition" %>
    </li>

    <li>
      <%= link_to 'Products', products_path,
          class: "block hover:text-white transition" %>
    </li>

    <li>
      <%= link_to 'Users', users_path,
          class: "block hover:text-white transition" %>
    </li>

    <li>
      <%= button_to 'Logout', logout_path,
          method: :delete,
          class: "w-full text-left bg-red-600 hover:bg-red-700 text-white py-2 px-3 rounded-lg shadow transition" %>
    </li>
  </ul>
<% end %>

    </nav>

    <main class="container min-h-screen mx-auto mt-4 px-5">
    <h1 class = "text-4xl mx-auto font-bold mb-8 text-gray-800">This is myorder Layout</h1>
      <%= yield %>
    </main>
       <nav class="bg-green-700 p-6">
    <%= render partial: 'layouts/cart', locals: {cart:@cart} %> 

    </nav>
  </section>
</body>
</html>
